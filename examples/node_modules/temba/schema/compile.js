import Ajv, {} from 'ajv';
export const compileSchemas = (configuredSchemas) => {
    // Turn the configured schemas into compiled schemas
    const compiledSchemas = {
        post: {},
        put: {},
        patch: {},
    };
    if (!configuredSchemas)
        return compiledSchemas;
    // Use a single Ajv instance in the whole app
    const ajv = new Ajv();
    Object.keys(configuredSchemas).forEach((resource) => {
        if (configuredSchemas[resource]?.post) {
            compiledSchemas.post[resource] = ajv.compile(configuredSchemas[resource]?.post);
        }
        if (configuredSchemas[resource]?.put) {
            compiledSchemas.put[resource] = ajv.compile(configuredSchemas[resource]?.put);
        }
        if (configuredSchemas[resource]?.patch) {
            compiledSchemas.patch[resource] = ajv.compile(configuredSchemas[resource]?.patch);
        }
    });
    return compiledSchemas;
};
//# sourceMappingURL=compile.js.map